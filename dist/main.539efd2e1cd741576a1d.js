!function(){"use strict";const e=document.querySelector(".start"),t=document.querySelector(".game"),n=document.querySelector(".start-button"),r=document.querySelector(".restart-game"),i=document.querySelector(".view-statistics"),o=document.querySelector(".block"),c=document.querySelector(".check");let l={numItemArray:u(),checkArray:[],isBuild:!1,isWin:!1,timerId:0},s={time:60,result:"",isBest:!1},d=[];function u(){let e=[];for(let t=1;t<=25;t++)e.push(t);return e}function a(){let e,t=m(l.numItemArray);for(let n=0;n<25;n++)e=document.createElement("div"),e.classList.add("item"),e.id=t.pop(),e.innerText=e.id,e.style+=h(),o.appendChild(e),console.log(`Add item ${n} from id ${e.id}`);document.querySelectorAll(".item").forEach((e=>{e.addEventListener("click",(()=>{console.log(e.id),function(e){0===l.checkArray.length&&1==e?(document.getElementById(e).classList.add("green"),l.checkArray.push(e),console.log("push ",l.checkArray)):l.checkArray[e-2]==e-1&&25==e?(document.getElementById(e).classList.add("green"),l.isWin=!0,y()):l.checkArray[e-2]==e-1?(document.getElementById(e).classList.add("green"),l.checkArray.push(e),console.log("push ",l.checkArray)):(document.getElementById(e).classList.add("red"),l.isWin=!1,y())}(e.id)}))})),console.log("The game is built."),function(){let e=60;console.log("Timer started.");let t=setInterval((()=>{0==e?(s.time=0,document.querySelector("#time").innerHTML=0,l.isWin=!1,y()):(document.querySelector("#time").innerHTML=e--,s.time=document.querySelector("#time").innerHTML)}),1e3);l.timerId=t}(),l.isBuild=!0}n.addEventListener("click",(()=>{l.isBuild||(e.style="visibility: hidden; position: fixed;",t.style="visibility: visible;",a())})),r.addEventListener("click",(()=>{c.style="visibility: hidden;",clearInterval(l.timerId),l={numItemArray:u(),checkArray:[],isBuild:!1,isWin:!1,timerId:0},i.addEventListener("click",(()=>{})),s={time:60,result:"",isBest:!1},document.querySelectorAll(".item").forEach((e=>{e.remove()})),a(),console.log("remove")}));const m=e=>e.sort((()=>Math.round(25*Math.random())-13));function h(){let e=`\n\tfont-weight:${""+100*Math.round(8*Math.random()+1)};\n\tfont-size:${Math.round(16*Math.random()+14)}px;\n\tcolor:${function(){let e="",t=Math.floor(256*Math.random()),n=Math.floor(256*Math.random()),r=Math.floor(256*Math.random());return t<80&&(t+=2*t),n<80&&(n+=2*n),r<80&&(r+=2*r),e=`#${t.toString(16)}${n.toString(16)}${r.toString(16)}`,e}()};\n\t`;return console.log(e),e}function y(){switch(clearInterval(l.timerId),document.querySelectorAll(".item").forEach((e=>{e.classList.add("remove")})),l.isWin){case!1:c.innerHTML="Lose",c.style="visibility: visible;",console.log("GAME OVER!");break;case!0:c.innerHTML="Win",c.style="visibility: visible;",console.log("YOU WIN!")}s.result=c.innerHTML,function(){d.push(s);let e="index"+d.length,t=d.length;const n=document.createElement("tr");n.classList.add(e),document.querySelector("table").appendChild(n);const r=document.createElement("td"),i=document.createElement("td"),o=document.createElement("td");r.classList.add("time"+t),i.classList.add("result"+t),o.classList.add("is-best"+t);let c=`.${e}`;document.querySelector(c).appendChild(r),document.querySelector(c).appendChild(i),document.querySelector(c).appendChild(o),document.querySelector(".time"+t).innerHTML=d[d.length-1].time,document.querySelector(".result"+t).innerHTML=d[d.length-1].result,document.querySelector(".is-best"+t).innerHTML=d[d.length-1].isBest}()}}();